#!/usr/bin/perl

use strict;
use lib $ENV{GUS_HOME} . "/lib/perl";
use ApiCommonModel::Model::JbrowseRnaAndChipSeqTracks;

use Data::Dumper;

use JSON qw(encode_json);
 
my ($organismAbbrev, $projectName, $buildNumber, $webServicesDir, $technologyType, $applicationType) = @ARGV;

die "invalid technology type: $technologyType\n" unless grep ($technologyType, ('RNASeq', 'ChIPSeq'));

my $result = {"tracks" => [] };

ApiCommonModel::Model::JbrowseRnaAndChipSeqTracks::processOrganism($organismAbbrev, $projectName, $buildNumber, $webServicesDir, $applicationType, $technologyType, $result);

print encode_json($result);

1;

